import{d as e,r as a,u as l,b as s,e as d,f as o,w as r,h as t,y as n,z as u,A as m,B as i,C as p,p as c}from"./index.99533025.js";import{p as f,a as v}from"./common.0150f410.js";const h={class:"login-box"},g={style:{margin:"10px 16px",display:"flex"}},y=(e=>(i("data-v-4382dc08"),e=e(),p(),e))((()=>n("div",{style:{width:"10px"}},null,-1))),w=c(e({__name:"login",emits:["pageRefresh"],setup(e,{emit:i}){const p=a(),c=l(),w=a({username:"",password:"",code:""}),x=e=>{f(e).then((e=>{c.dataFill(e.data.userinfo)})).catch((e=>{})).finally((()=>{i("pageRefresh")}))},V=()=>{var e;null==(e=p.value)||e.validate().then((()=>{c.$reset(),v(w.value).then((e=>{c.dataFill(e.data)})).catch((e=>{})).finally((()=>{i("pageRefresh")}))})).catch((()=>{}))};return(e,a)=>{const l=t("van-field"),i=t("van-cell-group"),c=t("van-button"),f=t("van-form");return s(),d("div",h,[o(f,{ref_key:"userFormRef",ref:p,onSubmit:x,"validate-first":!0},{default:r((()=>[o(i,{inset:""},{default:r((()=>[o(l,{modelValue:w.value.username,"onUpdate:modelValue":a[0]||(a[0]=e=>w.value.username=e),name:"username",label:"Username",placeholder:"Username",rules:[{required:!0,message:"Incorrect Username"}]},null,8,["modelValue"]),o(l,{modelValue:w.value.password,"onUpdate:modelValue":a[1]||(a[1]=e=>w.value.password=e),type:"password",name:"password",label:"Password",placeholder:"Password",rules:[{required:!0,message:"Incorrect Password"}]},null,8,["modelValue"]),o(l,{modelValue:w.value.code,"onUpdate:modelValue":a[2]||(a[2]=e=>w.value.code=e),name:"code",label:"Code          ",placeholder:"Code"},null,8,["modelValue"])])),_:1}),n("div",g,[o(c,{style:{flex:"1"},"native-type":"submit"},{default:r((()=>[u(" Sign in ")])),_:1}),y,o(c,{style:{flex:"1"},onClick:m(V,["stop"])},{default:r((()=>[u(" Sign up ")])),_:1},8,["onClick"])])])),_:1},512)])}}}),[["__scopeId","data-v-4382dc08"]]);export{w as default};
